/******************************************************************************
*Project Name: Led Control With Button
*Engineer: Canberk SAHIN
*Project Microcontroller: PIC16F877
*Version: V1
*Create Date: 14.03.2021
*Update Date: 14.03.2021
*University: Bursa Technical University
*Revision: - 
******************************************************************************/
#include <Led_Control_With_Button.h>

int1 read_RA0_pin;  //Zero initialize global variable

void main()
{
   
   setup_psp(PSP_DISABLED);           //PSP unit is disabled
   setup_timer_1(T1_DISABLED);        //T1 unit is disabled
   setup_timer_2(T2_DISABLED, 0, 1);  //T2 unit is disabled
   setup_adc_ports(NO_ANALOGS);       //There is no analog input 
   setup_adc(ADC_OFF);                //ADC unit is disabled
   setup_CCP1(CCP_OFF);               //CCP1 unit is disabled.
   setup_CCP2(CCP_OFF);               //CCP2 unit is disabled.
   
   set_tris_a(0b00000001);            //RA0 pin set as input
   set_tris_b(0x00);                  //All pins of B port are set as outputs
   
   output_b(0x00);                    //Port B reset

   while(TRUE)
   {
      read_RA0_pin = input(pin_a0);   //RA0 pin is read digitally.
      
      if(read_RA0_pin){               //If the value of the read_RA0_pin variable is 1, turn on the led.
         output_high(pin_b0);
         delay_ms(300);               //Because no pull-up resistor. So created button arc.
      }
      else
         output_low(pin_b0);
   }

}
